"use strict";(self.webpackChunkmattermost_webapp=self.webpackChunkmattermost_webapp||[]).push([[5774],{61486:(e,t,s)=>{s.d(t,{N5:()=>c,Qp:()=>u,Qq:()=>o,p$:()=>l,rN:()=>d}),s(43813);var a=s(1418),r=s(87988),i=s(40693),n=s(78451);function o(e){return{type:n.Q3.NEEDS_LOGGED_IN_LIMIT_REACHED_CHECK,data:e}}function l(e){return e?{type:n.Q3.SET_ADMIN_CONSOLE_USER_MANAGEMENT_TABLE_PROPERTIES,data:e}:{type:n.Q3.CLEAR_ADMIN_CONSOLE_USER_MANAGEMENT_TABLE_PROPERTIES,data:null}}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async(t,s)=>{let n;try{n=await i.mT.getUsersForReporting(e)}catch(e){return(0,r.UP)(e,t,s),t((0,a.vV)(e)),{error:e}}return{data:n}}}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async(t,s)=>{let n;try{n=await i.mT.getUserCountForReporting(e)}catch(e){return(0,r.UP)(e,t,s),t((0,a.vV)(e)),{error:e}}return{data:n}}}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async(t,s)=>{try{await i.mT.startUsersBatchExport(e)}catch(e){return(0,r.UP)(e,t,s),t((0,a.vV)(e)),{error:e}}return{data:!0}}}},15774:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(97023),r=s.n(a),i=s(23453),n=s(45955),o=s(7430),l=(s(17046),s(14778)),c=s(61486),u=s(79751),d=s(20463),m=s(25695),_=s(19408),p=s(78451),g=s(11039),h=s(35412),E=s(35631),I=s(3569),M=s(77440);function f(){return function(){var e;const t=(0,h.A)(),s=(0,i.useDispatch)(),r=(0,l.useIntl)(),[n,o]=(0,g.A)(),f=(0,i.useSelector)(d.ks),y=null==n||null===(e=n.messages)||void 0===e?void 0:e.history,[C,L]=function(e,t){const s=(0,i.useDispatch)(),r=(0,i.useSelector)(I.WR),n=(0,i.useSelector)((s=>(0,M.Jt)(s,e,t))),o=(0,a.useCallback)((a=>{const i={category:e,name:t,user_id:r,value:a};return s((0,E.SF)(r,[i]))}),[e,s,t,r]);return(0,a.useMemo)((()=>[n,o]),[n,o])}(p.pm.CATEGORY_CLOUD_LIMITS,p.pm.SHOWN_LIMITS_REACHED_ON_LOGIN),{openPricingModal:S,isAirGapped:T}=(0,_.A)();if(o&&t.messages.historyLoaded&&void 0!==y&&f&&"true"!==C){if(t.messages.history>y){L("true");const e={title:(0,l.defineMessage)({id:"workspace_limits.modals.limits_reached.title",defaultMessage:"{limitName} limit reached",values:{limitName:r.formatMessage({id:"workspace_limits.modals.limits_reached.title.message_history",defaultMessage:"Message history"})}}),description:(0,l.defineMessage)({id:"workspace_limits.modals.limits_reached.description.message_history",defaultMessage:"Your sent message history is no longer available but you can still send messages. Upgrade to a paid plan and get unlimited access to your message history."}),secondaryAction:{message:(0,l.defineMessage)({id:"workspace_limits.modals.close",defaultMessage:"Close"}),onClick:()=>{s((0,u.O)(p.IQ.CLOUD_LIMITS))}},onClose:()=>{s((0,u.O)(p.IQ.CLOUD_LIMITS))},needsTheme:!0};T||(e.primaryAction={message:(0,l.defineMessage)({id:"workspace_limits.modals.view_plan_options",defaultMessage:"View plan options"}),onClick:()=>{s((0,u.O)(p.IQ.CLOUD_LIMITS)),S({trackingLocation:"admin_login_limit_reached_dashboard"})}}),s((0,u.q)({modalId:p.IQ.CLOUD_LIMITS,dialogType:m.A,dialogProps:e}))}s((0,c.Qq)(!1))}}(),null}function y(){const e=(0,i.useSelector)(n.I0),t=(0,i.useSelector)(o.J1);return e&&t?r().createElement(f,null):null}}}]);
//# sourceMappingURL=5774.be5b6fe73abd3c679188.js.map