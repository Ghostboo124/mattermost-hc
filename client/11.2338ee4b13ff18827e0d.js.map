{"version":3,"file":"11.2338ee4b13ff18827e0d.js","mappings":"yOAgBA,MAAMA,EAAkBC,IAIX,IAJY,SACrBC,EAAQ,QACRC,EAAO,iBACPC,GACIH,EACJ,MAAMI,GAAOC,EAAAA,EAAAA,WAGPC,EAAY,GAES,KAAvBL,EAASM,WACTD,EAAUE,KACNJ,EAAKK,cAAc,CAACC,GAAI,yBAA0BC,eAAgB,eACtEV,EAASM,UAAUK,eAInBX,EAASY,MACTP,EAAUE,KACNJ,EAAKK,cAAc,CAACC,GAAI,yBAA0BC,eAAgB,UACtEG,EAAAA,GAAuBb,EAASY,OAIpC,MAAME,EAAaT,EAAUU,KAAK,MAElC,IAAIC,EAAU,KA0Bd,OAxBIA,EADAd,EAEIe,IAAAA,cAAA,KACIC,UAAU,wBACVC,KAAMlB,GAENgB,IAAAA,cAAA,QAAMC,UAAU,iCAChBD,IAAAA,cAAA,OACIG,IAAK,eACLC,IAAKR,EAAAA,GAAsBb,MAMnCiB,IAAAA,cAAA,QAAMC,UAAU,yBACZD,IAAAA,cAAA,QAAMC,UAAU,iCAChBD,IAAAA,cAAA,OACIG,IAAK,eACLC,IAAKR,EAAAA,GAAsBb,MAOvCiB,IAAAA,cAAA,OAAKC,UAAU,2BACVF,EACDC,IAAAA,cAAA,OAAKC,UAAU,gBACXD,IAAAA,cAAA,OAAKC,UAAU,sBAAsBlB,EAASsB,MAC9CL,IAAAA,cAAA,OAAKC,UAAU,sBAAsBJ,IAEvC,EAEZhB,EAAAyB,UAAA,CAjEEtB,QAAOuB,IAAAA,OAAAC,WACPvB,iBAAgBsB,IAAAA,KAAAC,YAkEpB,QAAeR,IAAAA,KAAWnB,GC1D1B,GAAe4B,EAAAA,EAAAA,UARf,SAAyBC,GACrB,MAAMC,GAASC,EAAAA,EAAAA,IAAUF,GAEzB,MAAO,CACHzB,kBAAkBA,EAAAA,EAAAA,IAAiB0B,GAE3C,GAEA,CAAwC9B,E,yLCRzB,SAASA,EAAgBgC,GACpC,MAEMhB,GAFOV,EAAAA,EAAAA,WAEWI,cAAc,CAClCC,GAAI,0CACJC,eAAgB,0BAGdM,EACFC,IAAAA,cAAA,QAAMC,UAAU,yDACZD,IAAAA,cAACc,EAAAA,mBAAkB,CACfnB,KAAM,GACNoB,MAAO,8CACP,cAAY,wBAKxB,OACIf,IAAAA,cAAA,OAAKC,UAAU,2BACVF,EACDC,IAAAA,cAAA,OAAKC,UAAU,gBACXD,IAAAA,cAAA,OAAKC,UAAU,sBAAsBY,EAAM9B,SAASsB,MACpDL,IAAAA,cAAA,OAAKC,UAAU,sBAAsBJ,IAIrD,C,wcCnBe,MAAMmB,UAA0BhB,IAAAA,cAI3CiB,WAAAA,CAAYJ,GACRK,MAAML,GAAOM,EAAA,iBAJLnB,IAAAA,aAAoCmB,EAAA,gBACrCnB,IAAAA,aAAmCmB,EAAA,8BA4BtB,KACpB,IAAIC,EAAQC,KAAKC,SAASC,QACrBH,IACDA,EAAQI,SAASC,cAAc,UAGnCJ,KAAKK,SAAS,CACVC,SAAS,GACX,IACLR,EAAA,wBAEiB,KACdE,KAAKK,SAAS,CACVC,SAAS,GACX,IACLR,EAAA,aAEM,KACH,GAAIE,KAAKC,SAASC,QAAS,CACvB,MAAMH,EAAQC,KAAKC,SAASC,QAC5BH,EAAMQ,QACNR,EAAMS,YAAc,CACxB,KA7CAR,KAAKX,MAAQ,CACTiB,SAAS,EAEjB,CAEAG,iBAAAA,GACIT,KAAKU,wBAEDV,KAAKW,UAAUT,SACfF,KAAKW,UAAUT,QAAQU,iBAAiB,QAASZ,KAAKa,gBAAiB,CAACC,MAAM,GAEtF,CAEAC,kBAAAA,CAAmBC,GACXhB,KAAKR,MAAM7B,UAAYqD,EAAUrD,SACjCqC,KAAKU,wBAGLV,KAAKW,UAAUT,SACfF,KAAKW,UAAUT,QAAQU,iBAAiB,QAASZ,KAAKa,gBAAiB,CAACC,MAAM,GAEtF,CA2BAG,MAAAA,GACI,IAAKjB,KAAKX,MAAMiB,QACZ,OACI3B,IAAAA,cAACnB,EAAAA,EAAe,CACZE,SAAUsC,KAAKR,MAAM9B,SACrBC,QAASqC,KAAKR,MAAM7B,UAKhC,IAAIuD,EAAQC,EAAAA,GAAUC,gBAClBC,EAASF,EAAAA,GAAUG,iBAOvB,OANItB,KAAKR,MAAM+B,eACXL,EAAQC,EAAAA,GAAUK,mBAClBH,EAASF,EAAAA,GAAUM,qBAKnB9C,IAAAA,cAAA,SACI+C,IAAK1B,KAAKR,MAAM9B,SAASS,GACzBwD,IAAK3B,KAAKC,SACV,aAAW,KACX2B,UAAU,EACVV,MAAOA,EACPG,OAAQA,GAER1C,IAAAA,cAAA,UACIgD,IAAK3B,KAAKW,UACV5B,IAAKiB,KAAKR,MAAM7B,UAIhC,EACHmC,EAzFoBH,EAAiB,aARlChC,QAAOuB,IAAAA,OAAAC,WACPoC,aAAYrC,IAAAA,KAAAC,aCGhB,SAAeC,EAAAA,EAAAA,UANf,SAAyBC,GACrB,MAAO,CACHkC,cAAcM,EAAAA,EAAAA,IAAgBxC,GAEtC,GAEA,CAAwCM,G,mbCczB,MAAMmC,UAAoBnD,IAAAA,cACrCiB,WAAAA,CAAYJ,GACRK,MAAML,GAAOM,EAAA,gBA6CPiC,UACN,GAAK/B,KAAKX,MAAM2C,QAAQhC,KAAKR,MAAM9B,SAASY,KAAO6C,EAAAA,GAAUc,4BAG7D,IACI,MAAMC,QAAaC,MAAMnC,KAAKR,MAAM7B,SAC9ByE,QAAaF,EAAKE,OACxBpC,KAAKqC,mBAAmBD,EAC5B,CAAE,MAAOE,GACLtC,KAAKuC,qBACT,KACHzC,EAAA,2BAEoBiC,UAA+B,IAAAS,EAAAC,EAChD,IAAIC,EAAOR,EACX,MAAMS,EAAOT,EACS,cAAlBS,EAAKC,WACLF,GAAO,IAAIG,eAAgBC,kBAAkBH,IAE5B,QAArBH,GAAAC,EAAAzC,KAAKR,OAAMuD,kBAAU,IAAAP,GAArBA,EAAAQ,KAAAP,EAAwBC,GACxB1C,KAAKK,SAAS,CACVqC,OACAO,kBAAmBC,EAAAA,GAA6BlD,KAAKX,MAAM2C,KAAMU,GACjES,SAAS,EACTC,SAAS,GACX,IACLtD,EAAA,4BAEqB,KAClBE,KAAKK,SAAS,CAAC8C,SAAS,EAAOC,SAAS,GAAO,IAxE/CpD,KAAKX,MAAQ,CACTqD,KAAM,GACNV,KAAM,GACNiB,YAAa,GACbE,SAAS,EACTC,SAAS,EAEjB,CAEA3C,iBAAAA,GACIT,KAAKqD,SACT,CAEA,+BAAOC,CAAyB9D,EAAcH,GAC1C,GAAIG,EAAM7B,UAAY0B,EAAMkE,YAAa,CACrC,MAAMC,EAAeN,EAAAA,GAAgD1D,EAAM9B,SAASM,WAEpF,OAAKwF,GAAgBhE,EAAM9B,SAASY,KAAO6C,EAAAA,GAAUc,2BAC1C,CACHS,KAAM,GACNV,KAAM,GACNmB,SAAS,EACTC,SAAS,EACTG,YAAa/D,EAAM7B,SAIpB,CACH+E,KAAM,GACNV,KAAMwB,EACNL,SAAS,EACTI,YAAa/D,EAAM7B,QAE3B,CACA,OAAO,IACX,CAEAoD,kBAAAA,CAAmBC,GACXhB,KAAKR,MAAM7B,UAAYqD,EAAUrD,SACjCqC,KAAKqD,SAEb,CAkCA,eAAOI,CAAS/F,GACZ,OAAOgG,QAAQR,EAAAA,GAAgDxF,EAASM,WAC5E,CAEAiD,MAAAA,GACI,GAAIjB,KAAKX,MAAM8D,QACX,OACIxE,IAAAA,cAAA,OAAKC,UAAU,uBACXD,IAAAA,cAACgF,EAAAA,EAAc,OAK3B,IAAK3D,KAAKX,MAAM+D,QACZ,OACIzE,IAAAA,cAACnB,EAAAA,EAAe,CACZE,SAAUsC,KAAKR,MAAM9B,SACrBC,QAASqC,KAAKR,MAAM7B,UAKhC,MAAMiG,EAAWV,EAAAA,GAAmClD,KAAKX,MAAM2C,MAE/D,OACIrD,IAAAA,cAAA,OAAKC,UAAU,0BACXD,IAAAA,cAAA,QAAMC,UAAU,uBAAqB,GAAAiF,OAC7B7D,KAAKR,MAAM9B,SAASsB,KAAI,OAAA6E,OAAMD,IAEtCjF,IAAAA,cAAA,OAAKC,UAAU,QACXD,IAAAA,cAAA,OAAKC,UAAU,2BACVsE,EAAAA,GAAqClD,KAAKX,MAAMqD,OAErD/D,IAAAA,cAAA,QAAMmF,wBAAyB,CAACC,OAAQ/D,KAAKX,MAAM4D,gBAInE,EACHnD,EArHoBgC,EAAW,aAd5BnE,QAAOuB,IAAAA,OAAAC,WACPP,UAASM,IAAAA,OAAAC,WACT4D,WAAU7D,IAAAA,O,iGCWd,MAAM8E,GAAoBC,EAAAA,EAAAA,MAEpBC,EAAyC1E,IAC3C,MAAM2E,GAAOC,EAAAA,EAAAA,cAAa/E,IAAkB,IAAAgF,EAAAC,EAAA,OAAKC,EAAAA,EAAAA,IAAWlF,EAA0B,QAArBgF,EAAY,QAAZC,EAAE9E,EAAMgF,YAAI,IAAAF,OAAA,EAAVA,EAAYG,eAAO,IAAAJ,EAAAA,EAAI,GAAG,IACvFK,GAAUN,EAAAA,EAAAA,cAAa/E,IAAuB,IAAAsF,EAAAC,EAEhD,OADmBC,EAAAA,EAAAA,KACZC,CAAWzF,EAA6B,QAAxBsF,EAAY,QAAZC,EAAEpF,EAAMgF,YAAI,IAAAI,OAAA,EAAVA,EAAYG,kBAAU,IAAAJ,EAAAA,EAAI,GAAG,IAEpD3F,GAAOoF,EAAAA,EAAAA,cAAa/E,IAAkB,IAAA2F,EAAAC,EAAA,OAAKjB,EAAkB3E,EAA0B,QAArB2F,EAAY,QAAZC,EAAEzF,EAAMgF,YAAI,IAAAS,OAAA,EAAVA,EAAYR,eAAO,IAAAO,EAAAA,EAAI,IAAI,EAAK,IAE1G,IAAIE,EACJ,MAAMC,EAAcT,EAChB/F,IAAAA,cAACyG,EAAAA,iBAAgB,CACbjH,GAAG,oCACHC,eAAe,oBACfiH,OAAQ,CACJrG,KAAM0F,EAAQY,cAAgBZ,EAAQ1F,QAG9C,KAuBJ,OArBIkG,EADA1F,EAAM+F,aAEF5G,IAAAA,cAAAA,IAAAA,SAAA,KACIA,IAAAA,cAAA,MAAIC,UAAU,iCAAiCY,EAAMgG,UAErD7G,IAAAA,cAAA,QAAMC,UAAU,oCACZD,IAAAA,cAAA,QAAMC,UAAU,8CAA8CI,GAC9DL,IAAAA,cAAA,QAAMC,UAAU,+BAA+BuG,KAMvDxG,IAAAA,cAAAA,IAAAA,SAAA,KACIA,IAAAA,cAAA,MAAIC,UAAU,iCAAiCI,GAE/CL,IAAAA,cAAA,QAAMC,UAAU,+BAA+BuG,IAOvDxG,IAAAA,cAAA,OAAKC,UAAU,4BAENY,EAAMgF,MAAQiB,OAAOC,KAAKlG,EAAMgF,MAAMmB,OAAS,GAChDhH,IAAAA,cAACiH,EAAAA,EAAM,CACHtH,KAAK,KACLuH,SAAU1B,aAAI,EAAJA,EAAM0B,SAChBC,KAAKC,EAAAA,EAAAA,IAAgBvG,EAAMgF,KAAKC,QAASN,aAAI,EAAJA,EAAM6B,qBAC/CpH,UAAU,6BACVE,IAAI,KAIZH,IAAAA,cAAA,OAAKC,UAAU,oCACVsG,GAEH,EAEZhB,EAAAjF,UAAA,CAjEEsG,aAAYrG,IAAAA,KAAAC,WACZqG,SAAQtG,IAAAA,OAAAC,YAkEZ,SAAe8G,EAAAA,EAAAA,MAAK/B,G,2DChFb,SAASgC,EAAWhB,GACvB,OAAOxB,QAASwB,EAAkB/G,GACtC,CAEO,SAASgI,EAAWjB,GACvB,OAAOxB,QAASwB,EAAkBkB,QAAUF,EAAWhB,EAC3D,CCQA,MAgBMmB,EAAgD7G,IAClD,MAAM3B,GAAOC,EAAAA,EAAAA,WAEPwI,GAAyBlC,EAAAA,EAAAA,cAAa/E,IAAkB,IAAAkH,EAAA,OAAgC,QAAhCA,GAAKC,EAAAA,EAAAA,IAAqBnH,UAAM,IAAAkH,OAAA,EAA3BA,EAA6BH,IAAI,IAC9FK,GAAWC,EAAAA,EAAAA,gBACVC,EAAkBC,IAAuBC,EAAAA,EAAAA,WAAS,IAEzDC,EAAAA,EAAAA,YAAU,KACFZ,EAAW1G,EAAM9B,WAAa8B,EAAMuH,kBACpCN,GAASO,EAAAA,EAAAA,IAAkBxH,EAAM9B,SAASS,IAC9C,GACD,CAACqB,EAAM9B,SAAU8B,EAAMuH,oBAE1BD,EAAAA,EAAAA,YAAU,KACFH,GACAM,YAAW,KACPL,GAAoB,EAAM,GAhCV,IAkCxB,GACD,CAACD,IAEJ,MAKMO,EAAerJ,EAAKK,cAAc,CACpCC,GAAI,0BACJC,eAAgB,UAEd+I,EACFxI,IAAAA,cAACyI,EAAAA,EAAW,CACRC,MAAOH,EACPxF,IAAI,cAEJ/C,IAAAA,cAAA,UACIC,UAAU,+CACV0I,QAAS9H,EAAM+H,iBACf,aAAYL,GAEZvI,IAAAA,cAAA,KAAGC,UAAU,sBAKzB,IAAI4I,EAEAA,EADAb,EACuB9I,EAAKK,cAAc,CACtCC,GAAI,qDACJC,eAAgB,uBAGGP,EAAKK,cAAc,CACtCC,GAAI,gCACJC,eAAgB,sBAGxB,MAAMqJ,EACF9I,IAAAA,cAACyI,EAAAA,EAAW,CACR1F,IAAI,wBACJ2F,MAAOG,GAEP7I,IAAAA,cAAA,KACIE,KAAK,IACLD,UAAU,+CACV0I,QA5CWI,MACnBC,EAAAA,EAAAA,IAAgBrB,QAAAA,EAA0B,IAC1CM,GAAoB,EAAK,EA2CjB,aAAYY,GAEZ7I,IAAAA,cAAA,KAAGC,UAAU,6BAKnBgJ,EAAkB/J,EAAKK,cAAc,CACvCC,GAAI,8BACJC,eAAgB,aAEdyJ,EACFlJ,IAAAA,cAACyI,EAAAA,EAAW,CACR1F,IAAI,WACJ2F,MAAOO,GAEPjJ,IAAAA,cAACmJ,EAAAA,EAAY,CACTjJ,KAAMW,EAAMuI,QACZnJ,UAAU,+CACVoJ,SAAS,kCACTH,SAAUrI,EAAMgG,SAChB,aAAYoC,GAEZjJ,IAAAA,cAAA,KAAGC,UAAU,iCAKnBqJ,EACFtJ,IAAAA,cAACuJ,EAAAA,EAAU,CACPtJ,UAAU,+CACVuJ,WAAWC,EAAAA,EAAAA,IAAY5I,EAAM9B,SAASM,aAAeqK,EAAAA,GAAUC,KAC/DC,QAAS/I,EAAM+I,UAGvB,OACI5J,IAAAA,cAAA,OAAKC,UAAU,6CACTY,EAAMgJ,eAAiBhJ,EAAMiJ,gBAAkBR,GAC/CzI,EAAMgJ,eAAiBhJ,EAAMuH,kBAAoBvH,EAAMkJ,gBAAkBjB,GACzEjI,EAAMgJ,eAAiBhJ,EAAM5B,kBAAoBiK,EAClDrI,EAAMmJ,WAAaxB,EAClB,EAEZd,EAAApH,UAAA,CA1HEuJ,cAAatJ,IAAAA,KACbyJ,UAASzJ,IAAAA,KACTwJ,eAAcxJ,IAAAA,KACdsG,SAAQtG,IAAAA,OAAAC,WACR4I,QAAO7I,IAAAA,OAAAC,WAEP4H,iBAAgB7H,IAAAA,KAAAC,WAChBvB,iBAAgBsB,IAAAA,KAAAC,WAChBsJ,eAAcvJ,IAAAA,KAAAC,WACdoI,iBAAgBrI,IAAAA,KAAAC,WAChBoJ,QAAOrJ,IAAAA,OAAAC,YAkHXkH,EAA4BuC,aAAe,CACvCJ,eAAe,EACfG,WAAW,EACXD,gBAAgB,GAGpB,SAAezC,EAAAA,EAAAA,MAAKI,G,WCnIdwC,EAA0CpL,IAAmC,IAAlC,KAAC+G,GAA4B/G,EAAnBqL,E,qWAAWC,CAAAtL,EAAAuL,GAClE,OACIrK,IAAAA,cAAA,OAAKC,UAAU,6BACXD,IAAAA,cAACuF,EAAoB,CACjBqB,cAAc,EACdf,KAAMA,EACNgB,SAAUsD,EAAYtD,WAE1B7G,IAAAA,cAAC0H,EAA2BZ,OAAAwD,OAAA,GACpBH,EAAW,CACfH,WAAW,EACXH,eAAe,KAEjB,EAEZK,EAAA5J,UAAA,CA3BEuG,SAAQtG,IAAAA,OAAAC,WAER4I,QAAO7I,IAAAA,OAAAC,WACPuJ,eAAcxJ,IAAAA,KACd6H,iBAAgB7H,IAAAA,KAAAC,WAChBvB,iBAAgBsB,IAAAA,KAAAC,WAChB+J,eAAchK,IAAAA,KAAAC,WACdoI,iBAAgBrI,IAAAA,KAAAC,WAChBsJ,eAAcvJ,IAAAA,KAAAC,WACdoJ,QAAOrJ,IAAAA,OAAAC,YAmBX,SAAe8G,EAAAA,EAAAA,MAAK4C,GC3BdM,EAA4C3J,IAC9C,MAAM,cAACtB,IAAiBJ,EAAAA,EAAAA,WAClBsL,EACFzK,IAAAA,cAACyI,EAAAA,EAAW,CACR1F,IAAI,mBACJ2F,MACI1I,IAAAA,cAACyG,EAAAA,iBAAgB,CACbjH,GAAG,gBACHC,eAAe,WAIvBO,IAAAA,cAAA,UACIR,GAAG,mBACHS,UAAU,oCACV0I,QAAS9H,EAAM6J,WACf,aAAYnL,EAAc,CAACC,GAAI,4CAA6CC,eAAgB,mBAE5FO,IAAAA,cAAA,KAAGC,UAAU,6BAKnB0K,EACF3K,IAAAA,cAACyI,EAAAA,EAAW,CACR1F,IAAI,aACJ2F,MACI1I,IAAAA,cAACyG,EAAAA,iBAAgB,CACbjH,GAAG,eACHC,eAAe,UAIvBO,IAAAA,cAAA,UACIR,GAAG,oBACHS,UAAU,oCACV0I,QAAS9H,EAAM+J,WACf,aAAYrL,EAAc,CAACC,GAAI,4CAA6CC,eAAgB,eAE5FO,IAAAA,cAAA,KAAGC,UAAU,8BAIzB,OACID,IAAAA,cAAA,OAAKC,UAAU,+BACVwK,EACDzK,IAAAA,cAAA,QACIC,UAAU,uBACV,YAAU,SACV,cAAY,QAEZD,IAAAA,cAACyG,EAAAA,iBAAgB,CACbjH,GAAG,mCACHC,eAAe,qCACfiH,OAAQ,CACJmE,MAAQhK,EAAMiK,UAAY,EAC1BC,MAAOlK,EAAMmK,eAIxBL,EACC,EAEZH,EAAAlK,UAAA,CArEEwK,UAASvK,IAAAA,OAAAC,WACTwK,WAAUzK,IAAAA,OAAAC,WACVkK,WAAUnK,IAAAA,KAAAC,WACVoK,WAAUrK,IAAAA,KAAAC,YAoEd,SAAe8G,EAAAA,EAAAA,MAAKkD,G,oCChDdS,EAA0CnM,IAA0D,IAAzD,KAAC+G,EAAI,WAAEmF,EAAU,UAAEF,GAAiChM,EAAnBqL,E,qWAAWC,CAAAtL,EAAAuL,GACrFa,EAAelL,IAAAA,cAAA,YACfgL,EAAa,IACbE,EACIlL,IAAAA,cAACwK,EAAuB,CACpBQ,WAAYA,EACZF,UAAWA,EACXJ,WAAYP,EAAYO,WACxBE,WAAYT,EAAYS,cAIpC,MAAMO,EACFnL,IAAAA,cAAC0H,EAA2BZ,OAAAwD,OAAA,GACpBH,EAAW,CACfN,cAAeM,EAAYvH,gBAEnC,OACI5C,IAAAA,cAAA,OAAKC,UAAU,6BACVkK,EAAYvH,cAAgBuI,GAC3BhB,EAAYvH,cACd5C,IAAAA,cAACuF,EAAoB,CACjBqB,cAAc,EACdf,KAAMA,EACNgB,SAAUsD,EAAYtD,WAGzBqE,GACCf,EAAYvH,cAAgBuI,EAC5B,EAEZF,EAAA3K,UAAA,CAjDEsC,aAAYrC,IAAAA,KAAAC,WACZsK,UAASvK,IAAAA,OAAAC,WAETwK,WAAUzK,IAAAA,OAAAC,WACVqG,SAAQtG,IAAAA,OAAAC,WAER4I,QAAO7I,IAAAA,OAAAC,WACPuJ,eAAcxJ,IAAAA,KACd6H,iBAAgB7H,IAAAA,KAAAC,WAChBvB,iBAAgBsB,IAAAA,KAAAC,WAChBsJ,eAAcvJ,IAAAA,KAAAC,WACd+J,eAAchK,IAAAA,KAAAC,WACdkK,WAAUnK,IAAAA,KAAAC,WACVoK,WAAUrK,IAAAA,KAAAC,WACVoI,iBAAgBrI,IAAAA,KAAAC,WAChBoJ,QAAOrJ,IAAAA,OAAAC,YAoCX,SAAe8G,EAAAA,EAAAA,MAAK2D,GChDL,SAASG,EAAYtM,GAAsC,IAGlEE,EACAqM,EAaAC,GAjB6B,SAACvM,EAAQ,iBAAEE,GAAwBH,EAapE,OAZwBC,EAASS,IAQ7BR,GAAUuM,EAAAA,EAAAA,IAAmBxM,EAASS,IACtC6L,EAAatM,EAASyM,mBAAoBC,EAAAA,EAAAA,IAAkB1M,EAASS,IAAMR,IAJ3EA,EAAUD,EAAS0I,KACnB4D,EAAatM,EAAS0I,MAMrBxI,IAKDwK,EAAAA,EAAAA,IAAY1K,EAASM,aAAeqK,EAAAA,GAAUgC,MAC9CJ,EAA+B,CAC3B/I,MAAOxD,EAASwD,MAChBG,OAAQ,SAKZ1C,IAAAA,cAAA,KACIC,UAAU,gBACVC,KAAK,KAELF,IAAAA,cAAA,OACIC,UAAU,uBACVuE,QAAQ,OACR,cAAY,eACZrE,IAAK,oBACLC,IAAKiL,EACLM,MAAOL,MAtBRtL,IAAAA,cAAA,OAAKI,IAAKiL,GA0BzB,CAACD,EAAA9K,UAAA,CA3CGrB,iBAAgBsB,IAAAA,KAAAC,Y,kCCGL,MAAMoL,WAAmB5L,IAAAA,cACpCsC,MAAAA,GACI,MAAMuJ,EAAkC,GACxC,IAAIC,EAAuC,KAC3C,GAAIzK,KAAKR,MAAMkL,iBAAkB,CAC7B,IAAIC,EACAC,EACAC,EAGAD,EADA5K,KAAKR,MAAMsL,OAAS9K,KAAKR,MAAMsL,MAAQC,EAAAA,GAAaC,UAEhDrM,IAAAA,cAAA,QAAMC,UAAU,kBACZD,IAAAA,cAAA,KAAG2I,QAAStH,KAAKR,MAAMyL,eAAiBC,KAASlL,KAAKR,MAAMyL,cAAe,IAAK,CAACE,QAAS,OACtFxM,IAAAA,cAAA,KAAGC,UAAU,sBAMrBD,IAAAA,cAAA,QAAMC,UAAU,gBACZD,IAAAA,cAAA,KAAGC,UAAU,qBAIzB4L,EAAavM,KACTU,IAAAA,cAACyI,EAAAA,EAAW,CACR1F,IAAI,UACJ2F,MACI1I,IAAAA,cAACyG,EAAAA,iBAAgB,CACbjH,GAAG,sBACHC,eAAe,cAItBwM,IAKLD,EADA3K,KAAKR,MAAMsL,OAAS9K,KAAKR,MAAMsL,MAAQC,EAAAA,GAAaK,cAEhDzM,IAAAA,cAAA,QAAMC,UAAU,kBACZD,IAAAA,cAAA,KAAG2I,QAAStH,KAAKR,MAAM6L,iBACnB1M,IAAAA,cAAA,KAAGC,UAAU,8BAIlBoB,KAAKR,MAAMsL,OAAS9K,KAAKR,MAAMsL,MAAQC,EAAAA,GAAaK,cAEvDzM,IAAAA,cAAA,QAAMC,UAAU,kBACZD,IAAAA,cAAA,KAAG2I,QAAStH,KAAKR,MAAM6L,iBACnB1M,IAAAA,cAAA,KAAGC,UAAU,6BAMrBD,IAAAA,cAAA,QAAMC,UAAU,gBACZD,IAAAA,cAAA,KAAGC,UAAU,6BAIzB4L,EAAavM,KACTU,IAAAA,cAACyI,EAAAA,EAAW,CACR1F,IAAI,YACJ2F,MACI1I,IAAAA,cAACyG,EAAAA,iBAAgB,CACbjH,GAAG,wBACHC,eAAe,gBAItBuM,IAKLE,EADA7K,KAAKR,MAAMsL,OAAS9K,KAAKR,MAAMsL,MAAQC,EAAAA,GAAaO,UAEhD3M,IAAAA,cAAA,QAAMC,UAAU,kBACZD,IAAAA,cAAA,KAAG2I,QAAStH,KAAKR,MAAM+L,cAAgBL,KAASlL,KAAKR,MAAM+L,aAAc,IAAK,CAACJ,QAAS,OACpFxM,IAAAA,cAAA,KAAGC,UAAU,qBAOrBD,IAAAA,cAAA,QAAMC,UAAU,gBACZD,IAAAA,cAAA,KAAGC,UAAU,oBAIzB4L,EAAavM,KACTU,IAAAA,cAACyI,EAAAA,EAAW,CACR1F,IAAI,SACJ2F,MACI1I,IAAAA,cAACyG,EAAAA,iBAAgB,CACbjH,GAAG,qBACHC,eAAe,aAItByM,IAITJ,EACI9L,IAAAA,cAAA,OAAKC,UAAU,gBACV4L,EAGb,CAEA,OACI7L,IAAAA,cAAA,OACI,cAAY,kBACZC,UAAU,iDAET6L,EAGb,E,EAxHiBF,G,EAAU,Y,GAAA,CAP3BO,MAAK5L,IAAAA,OACLwL,iBAAgBxL,IAAAA,KAChBqM,aAAYrM,IAAAA,KACZ+L,cAAa/L,IAAAA,KACbmM,gBAAenM,IAAAA,O,gYCXnB,Y,89BC8BA,MAAMsM,GAAa7M,IAAAA,MAA0D,IAAM,2DAE7E8M,GAAWtK,EAAAA,GAAUsK,SA6CZ,MAAMC,WAAyB/M,IAAAA,cAO1CiB,WAAAA,CAAYJ,GACRK,MAAML,GAAOM,GAAA,mBAgBJ,KACT,IAAI3B,EAAK6B,KAAKX,MAAMsM,WAAa,EAC7BxN,EAAK6B,KAAKR,MAAMoM,UAAUjG,OAAS,IACnCxH,EAAK,GAET6B,KAAK6L,UAAU1N,EAAG,IACrB2B,GAAA,mBAEY,KACT,IAAI3B,EAAK6B,KAAKX,MAAMsM,WAAa,EAC7BxN,EAAK,IACLA,EAAK6B,KAAKR,MAAMoM,UAAUjG,OAAS,GAEvC3F,KAAK6L,UAAU1N,EAAG,IACrB2B,GAAA,uBAEiBwC,IACVwJ,EAAAA,EAAsBxJ,EAAGmJ,GAASM,OAClC/L,KAAKuJ,aACEuC,EAAAA,EAAsBxJ,EAAGmJ,GAASO,OACzChM,KAAKqJ,YACT,IACHvJ,GAAA,kBA2BY3B,IACT6B,KAAKK,SAAS,CAACsL,WAAYxN,IAE3B,MAAM8N,EAAcC,OAAOC,YAAc,IACzCnM,KAAKK,SAAS,CAAC4L,gBAEVjM,KAAKX,MAAM+M,OAAOjO,IACnB6B,KAAKqM,UAAUlO,EACnB,IACH2B,GAAA,mBAEagG,IACV,MAAMwG,EAAW/N,EAAAA,GAAkBuH,GACnC,OAAOwG,IAAajE,EAAAA,GAAUkE,OAASD,IAAajE,EAAAA,GAAUgC,GAAG,IACpEvK,GAAA,gCAEkCpC,IAC/B,GAAIwI,EAAWxI,GACX,OAAOa,EAAAA,GAAkBb,EAASM,WAGtC,GAAImI,EAAWzI,GAAW,CAEtB,MAAM8O,EAAqB,GACrBC,EAAkB/O,EAASM,WAAaN,EAASM,UAAU2H,QAAU6G,EAAqB9O,EAASM,UAAYN,EAAS0I,KAC9H,OAAO7H,EAAAA,GAAkBkO,EAC7B,CAEA,OAAOpE,EAAAA,GAAUqE,KAAK,IACzB5M,GAAA,kBAEY6M,IACT,MAAMjP,EAAWsC,KAAKR,MAAMoM,UAAUe,GACtC,GAAIzG,EAAWxI,IAAaA,EAASkP,SACjC5M,KAAK6M,kBAAkBF,QAU3B,GALiB3M,KAAK8M,wBAAwBpP,KAGjB2K,EAAAA,GAAUkE,MAE1B,CACT,IAAIvC,EAAa,GACb9D,EAAWxI,GAEPsM,EADAtM,EAASyM,mBACIC,EAAAA,EAAAA,IAAkB1M,EAASS,KAG3B4O,EAAAA,EAAAA,IAAWrP,EAASS,IAE9BgI,EAAWzI,KAElBsM,EAAatM,EAAS0I,MAG1B7H,EAAAA,GACIyL,GACA,IAAMhK,KAAK6M,kBAAkBF,KAC5BK,GAAwBhN,KAAKiN,oBAAoBN,EAAOK,IAEjE,MAEIhN,KAAK6M,kBAAkBF,EAC3B,IACH7M,GAAA,0BAEoB6M,IACjB3M,KAAKK,UAAU6M,IACJ,CACHd,OAAMe,GAAAA,GAAA,GACCD,EAAUd,QAAM,IACnB,CAACO,IAAQ,OAGnB,IACL7M,GAAA,4BAEqB,CAAC6M,EAAeK,KAClChN,KAAKK,UAAU6M,IACJ,CACHE,SAAQD,GAAAA,GAAA,GACDD,EAAUE,UAAQ,IACrB,CAACT,GAAQK,OAGnB,IACLlN,GAAA,0BAEmB,KAChBE,KAAKK,SAAS,CAACgN,cAAc,GAAM,IACtCvN,GAAA,0BAEmB,KAChBE,KAAKK,SAAS,CAACgN,cAAc,GAAO,IACvCvN,GAAA,iBAEU,CAAC6M,EAAe7B,KACvB9K,KAAKK,UAAU6M,IACJ,CACHpC,MAAKqC,GAAAA,GAAA,GACED,EAAUpC,OAAK,IAClB,CAAC6B,GAAQ7B,OAGnB,IACLhL,GAAA,qBAEc,KACX,IAAIwN,EAAWtN,KAAKX,MAAMyL,MAAM9K,KAAKX,MAAMsM,YAC3C2B,EAAWC,KAAKC,IAAIF,EAAWvC,EAAAA,GAAa0C,YAAa1C,EAAAA,GAAaO,WACtEtL,KAAK0N,SAAS1N,KAAKX,MAAMsM,WAAY2B,EAAS,IACjDxN,GAAA,sBAEe,KACZ,IAAIwN,EAAWtN,KAAKX,MAAMyL,MAAM9K,KAAKX,MAAMsM,YAC3C2B,EAAWC,KAAKI,IAAIL,EAAWvC,EAAAA,GAAa0C,YAAa1C,EAAAA,GAAaC,WACtEhL,KAAK0N,SAAS1N,KAAKX,MAAMsM,WAAY2B,EAAS,IACjDxN,GAAA,wBAEiB,KACdE,KAAK0N,SAAS1N,KAAKX,MAAMsM,WAAYZ,EAAAA,GAAaK,cAAc,IACnEtL,GAAA,yBAEkB,KACfE,KAAKK,SAAS,CAACuN,MAAM,GAAO,IAC/B9N,GAAA,mBAEayI,IACVvI,KAAKK,SAAS,CAACkI,WAAS,IAC3BzI,GAAA,sBAEgBwC,IACTA,EAAEuL,gBAAkBvL,EAAEwL,QACtB9N,KAAKuH,kBACT,IAxMAvH,KAAKX,MAAQ,CACTuO,MAAM,EACNjC,WAAY3L,KAAKR,MAAMuO,WACvB9B,YAAa,OACbG,OAAQ7N,EAAAA,IAAiB,EAAOyB,KAAKR,MAAMoM,UAAUjG,QACrDqI,mBAAoB,EACpBZ,SAAU7O,EAAAA,GAAiB,EAAGyB,KAAKR,MAAMoM,UAAUjG,QACnD0H,cAAc,EACd3C,kBAAkB,EAClBI,MAAOvM,EAAAA,GAAiBwM,EAAAA,GAAaK,cAAepL,KAAKR,MAAMoM,UAAUjG,QACzE4C,QAAS,GAEjB,CA0BA9H,iBAAAA,GACIN,SAASS,iBAAiB,QAASZ,KAAKiO,gBAExCjO,KAAK6L,UAAU7L,KAAKR,MAAMuO,WAC9B,CAEAG,oBAAAA,GACI/N,SAASgO,oBAAoB,QAASnO,KAAKiO,eAC/C,CAEA,+BAAO3K,CAAyB9D,EAAcH,GAC1C,MAAM+O,EAA+B,CAAC,EAWtC,OAVI5O,EAAMoM,UAAUvM,EAAMsM,aAAenM,EAAMoM,UAAUvM,EAAMsM,YAAY3N,YAAcqK,EAAAA,GAAUgG,IAC/FD,EAAa1D,kBAAmB,EAEhC0D,EAAa1D,kBAAmB,EAEhClL,EAAMoM,UAAUjG,SAAWtG,EAAM2O,qBACjCI,EAAahC,OAAS7N,EAAAA,IAAiB,EAAOiB,EAAMoM,UAAUjG,QAC9DyI,EAAahB,SAAW7O,EAAAA,GAAiB,EAAGiB,EAAMoM,UAAUjG,QAC5DyI,EAAaJ,mBAAqBxO,EAAMoM,UAAUjG,QAE/CF,OAAOC,KAAK0I,GAAczI,OAASyI,EAAe,IAC7D,CA8IAnN,MAAAA,GAAS,IAAAqN,EACL,GAAItO,KAAKR,MAAMoM,UAAUjG,OAAS,GAAK3F,KAAKR,MAAMoM,UAAUjG,OAAS,EAAI3F,KAAKX,MAAMsM,WAChF,OAAO,KAGX,MAAMjO,EAAWsC,KAAKR,MAAMoM,UAAU5L,KAAKX,MAAMsM,YAG3CW,EAAWtM,KAAK8M,wBAAwBpP,GAE9C,IAAIgL,EACA6F,EACA5Q,EACA6Q,EACAtF,EACAT,GAAiB,EACjBvC,EAAWxI,IACXgL,GAAiB,EACjB6F,EAAW7Q,EAASsB,KACpBrB,GAAUoP,EAAAA,EAAAA,IAAWrP,EAASS,IAC9BqQ,GAAkBtE,EAAAA,EAAAA,IAAmBxM,EAASS,IAC9C+K,GAAiB,IAEjBR,GAAiB,EACjB6F,EAAW7Q,EAASsB,MAAQtB,EAAS0I,KACrCzI,EAAUD,EAAS0I,KACnBoI,EAAkB9Q,EAAS0I,KAC3B8C,GAAiB,GAGrB,IAEIX,EACAkG,EAHAC,EAAkB,6CAatB,GARIxI,EAAWxI,IAAaA,EAASkP,WACjCrE,EACI5J,IAAAA,cAACgQ,EAAe,CACZjR,SAAUA,MAKjBwI,EAAWxI,KAAcA,EAASkP,SACnC,GAAI5M,KAAKX,MAAM+M,OAAOpM,KAAKX,MAAMsM,YACzBW,IAAajE,EAAAA,GAAUkE,OAASD,IAAajE,EAAAA,GAAUgC,IACvD9B,EACI5J,IAAAA,cAACoL,EAAY,CACTrM,SAAUA,EACVE,iBAAkBoC,KAAKR,MAAM5B,mBAG9B0O,IAAajE,EAAAA,GAAUuG,OAAStC,IAAajE,EAAAA,GAAUwG,MAC9DtG,EACI5J,IAAAA,cAACgB,EAAiB,CACdjC,SAAUA,EACVC,QAASA,IAGV2O,IAAajE,EAAAA,GAAUgG,KAC9B9F,EACI5J,IAAAA,cAAA,OACIC,UAAU,iCACV0I,QAAStH,KAAK8O,eAEdnQ,IAAAA,cAACA,IAAAA,SAAc,CAACoQ,SAAU,MACtBpQ,IAAAA,cAAC6M,GAAU,CACP9N,SAAUA,EACVC,QAASA,EACTmN,MAAO9K,KAAKX,MAAMyL,MAAM9K,KAAKX,MAAMsM,YACnCmD,cAAe9O,KAAK8O,kBAKpCL,EACI9P,IAAAA,cAAC4L,GAAU,CACPO,MAAO9K,KAAKX,MAAMyL,MAAM9K,KAAKX,MAAMsM,YACnCjB,iBAAkB1K,KAAKX,MAAMqL,iBAC7Ba,aAAcvL,KAAKuL,aACnBN,cAAejL,KAAKiL,cACpBI,gBAAiBrL,KAAKqL,mBAGvBvJ,EAAY2B,SAAS/F,IAC5BgR,GAAmB,cACnBjG,GAAiB,EACjBF,EACI5J,IAAAA,cAACmD,EAAW,CACRpE,SAAUA,EACVC,QAASA,EACToF,WAAY/C,KAAK+C,WACjBnE,UAAU,sCAIlB2J,EACI5J,IAAAA,cAACnB,EAAAA,EAAe,CACZE,SAAUA,EACVC,QAASA,QAIlB,CAEH,MAAMyP,EAAWG,KAAKyB,MAAMhP,KAAKX,MAAM+N,SAASpN,KAAKX,MAAMsM,aAE3DpD,EACI5J,IAAAA,cAACsQ,EAAAA,EAAmB,CAChB9L,QACIxE,IAAAA,cAACyG,EAAAA,iBAAgB,CACbjH,GAAG,qBACHC,eAAe,YAGvBgP,SAAUA,GAGtB,CAGJ,GAAIlH,EAAWxI,KAAcA,EAASkP,SAClC,IAAK,MAAMlO,KAAWsB,KAAKR,MAAM0P,4BAC7B,GAAIxQ,EAAQyQ,SAASzR,EAAUsC,KAAKR,MAAMgF,MAAO,CAC7C+D,EACI5J,IAAAA,cAACD,EAAQ0Q,UAAS,CACd1R,SAAUA,EACV8G,KAAMxE,KAAKR,MAAMgF,KACjB6K,iBAAkBrP,KAAKuH,mBAG/B,KACJ,CAIR,OACI5I,IAAAA,cAAC2Q,EAAAA,MAAK,CACF1B,KAAM5N,KAAKX,MAAMuO,KACjB2B,OAAQvP,KAAKuH,iBACbiI,SAAUxP,KAAKR,MAAMgQ,SACrB5Q,UAAU,iCACV8P,gBAAiBA,EACjBe,WAAW,EACXC,UAAU,EACVC,KAAK,OACLrF,MAAO,CAACsF,YAAa,GACrB,kBAAgB,uBAEhBjR,IAAAA,cAAC2Q,EAAAA,MAAMO,KAAI,CAACjR,UAAU,4BAClBD,IAAAA,cAAA,OACIC,UAAW,uBACX0I,QAAStH,KAAKuH,kBAEd5I,IAAAA,cAAA,OACIC,UAAU,+BACVkR,aAAc9P,KAAK+P,kBACnBC,aAAchQ,KAAKiQ,kBACnB3I,QAAUhF,GAAMA,EAAE4N,mBAElBvR,IAAAA,cAAC2Q,EAAAA,MAAMa,MAAK,CACRC,eAAe,MACfjS,GAAG,sBACHS,UAAU,6BAEVD,IAAAA,cAACiL,EAAsB,CACnBrI,aAAcvB,KAAKR,MAAM+B,aACzBiD,KAAMxE,KAAKR,MAAMgF,KACjBkE,eAAgBA,EAChBe,UAAWzJ,KAAKX,MAAMsM,WACtBhC,WAAgC,QAAtB2E,EAAEtO,KAAKR,MAAMoM,iBAAS,IAAA0C,OAAA,EAApBA,EAAsB3I,OAClCH,SAAU+I,EACVxG,QAASyG,EACT9Q,SAAUA,EACVqJ,iBAAkB/G,KAAKR,MAAMuH,iBAC7BnJ,iBAAkBoC,KAAKR,MAAM5B,iBAC7B6K,eAAgBA,EAChBS,eAAgBA,EAChBG,WAAYrJ,KAAKqJ,WACjBE,WAAYvJ,KAAKuJ,WACjBhC,iBAAkBvH,KAAKuH,iBACvBgB,QAASvI,KAAKX,MAAMkJ,UAEvBkG,GAEL9P,IAAAA,cAAA,OACIC,UAAWyR,IACP,8BACA,CACI,2CAA4CnK,EAAWxI,KAAcA,EAASkP,WAAa5M,KAAKX,MAAM+M,OAAOpM,KAAKX,MAAMsM,aAAgBW,IAAajE,EAAAA,GAAUgG,MAGvK/G,QAAStH,KAAK8O,eAEbvG,GAEHvI,KAAKR,MAAM+B,cACT5C,IAAAA,cAACkK,EAAsB,CACnBrE,KAAMxE,KAAKR,MAAMgF,KACjBkE,eAAgBA,EAChBlD,SAAU+I,EACVxG,QAASyG,EACT9Q,SAAUA,EACVqJ,iBAAkB/G,KAAKR,MAAMuH,iBAC7BnJ,iBAAkBoC,KAAKR,MAAM5B,iBAC7B6K,eAAgBA,EAChBS,eAAgBA,EAChB3B,iBAAkBvH,KAAKuH,iBACvBgB,QAASvI,KAAKX,MAAMkJ,aAQpD,EACHzI,GA9aoB4L,GAAgB,aA1CjC9N,iBAAgBsB,IAAAA,KAAAC,WAChB4H,iBAAgB7H,IAAAA,KAAAC,WAOhBoC,aAAYrC,IAAAA,KAAAC,WACZ+P,4BAA2BhQ,IAAAA,MAC3BsQ,SAAQtQ,IAAAA,KAAAC,WAKRmR,OAAMpR,IAAAA,OAWN6O,WAAU7O,IAAAA,SAAAY,GAgBO4L,GAAgB,eACX,CAClBE,UAAW,GACXmC,WAAY,EACZmB,4BAA6B,I","sources":["webpack://mattermost-webapp/./src/components/file_info_preview/file_info_preview.tsx","webpack://mattermost-webapp/./src/components/file_info_preview/index.ts","webpack://mattermost-webapp/./src/components/archived_preview.tsx","webpack://mattermost-webapp/./src/components/audio_video_preview/audio_video_preview.tsx","webpack://mattermost-webapp/./src/components/audio_video_preview/index.ts","webpack://mattermost-webapp/./src/components/code_preview.tsx","webpack://mattermost-webapp/./src/components/file_preview_modal/file_preview_modal_info/file_preview_modal_info.tsx","webpack://mattermost-webapp/./src/components/file_preview_modal/types.ts","webpack://mattermost-webapp/./src/components/file_preview_modal/file_preview_modal_main_actions/file_preview_modal_main_actions.tsx","webpack://mattermost-webapp/./src/components/file_preview_modal/file_preview_modal_footer/file_preview_modal_footer.tsx","webpack://mattermost-webapp/./src/components/file_preview_modal/file_preview_modal_main_nav/file_preview_modal_main_nav.tsx","webpack://mattermost-webapp/./src/components/file_preview_modal/file_preview_modal_header/file_preview_modal_header.tsx","webpack://mattermost-webapp/./src/components/file_preview_modal/image_preview.tsx","webpack://mattermost-webapp/./src/components/file_preview_modal/popover_bar/popover_bar.tsx","webpack://mattermost-webapp/./src/components/file_preview_modal/popover_bar/index.ts","webpack://mattermost-webapp/./src/components/file_preview_modal/file_preview_modal.tsx"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {useIntl} from 'react-intl';\n\nimport type {FileInfo} from '@mattermost/types/files';\n\nimport * as Utils from 'utils/utils';\n\ntype Props = {\n    fileInfo: FileInfo;\n    fileUrl: string;\n    canDownloadFiles: boolean;\n};\n\nconst FileInfoPreview = ({\n    fileInfo,\n    fileUrl,\n    canDownloadFiles,\n}: Props) => {\n    const intl = useIntl();\n\n    // non-image files include a section providing details about the file\n    const infoParts = [];\n\n    if (fileInfo.extension !== '') {\n        infoParts.push(\n            intl.formatMessage({id: 'file_info_preview.type', defaultMessage: 'File type '}) +\n        fileInfo.extension.toUpperCase(),\n        );\n    }\n\n    if (fileInfo.size) {\n        infoParts.push(\n            intl.formatMessage({id: 'file_info_preview.size', defaultMessage: 'Size '}) +\n        Utils.fileSizeToString(fileInfo.size),\n        );\n    }\n\n    const infoString = infoParts.join(', ');\n\n    let preview = null;\n    if (canDownloadFiles) {\n        preview = (\n            <a\n                className='file-details__preview'\n                href={fileUrl}\n            >\n                <span className='file-details__preview-helper'/>\n                <img\n                    alt={'file preview'}\n                    src={Utils.getFileIconPath(fileInfo)}\n                />\n            </a>\n        );\n    } else {\n        preview = (\n            <span className='file-details__preview'>\n                <span className='file-details__preview-helper'/>\n                <img\n                    alt={'file preview'}\n                    src={Utils.getFileIconPath(fileInfo)}\n                />\n            </span>\n        );\n    }\n\n    return (\n        <div className='file-details__container'>\n            {preview}\n            <div className='file-details'>\n                <div className='file-details__name'>{fileInfo.name}</div>\n                <div className='file-details__info'>{infoString}</div>\n            </div>\n        </div>\n    );\n};\n\nexport default React.memo(FileInfoPreview);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {canDownloadFiles} from 'utils/file_utils';\n\nimport type {GlobalState} from 'types/store';\n\nimport FileInfoPreview from './file_info_preview';\n\nfunction mapStateToProps(state: GlobalState) {\n    const config = getConfig(state);\n\n    return {\n        canDownloadFiles: canDownloadFiles(config),\n    };\n}\n\nexport default connect(mapStateToProps)(FileInfoPreview);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {useIntl} from 'react-intl';\n\nimport {ArchiveOutlineIcon} from '@mattermost/compass-icons/components';\nimport type {FileInfo} from '@mattermost/types/files';\n\ninterface Props {\n    fileInfo: FileInfo;\n}\n\nexport default function FileInfoPreview(props: Props) {\n    const intl = useIntl();\n\n    const infoString = intl.formatMessage({\n        id: 'workspace_limits.archived_file.archived',\n        defaultMessage: 'This file is archived',\n    });\n\n    const preview = (\n        <span className='file-details__preview file-details__preview--archived'>\n            <ArchiveOutlineIcon\n                size={80}\n                color={'rgba(var(--center-channel-color-rgb), 0.48)'}\n                data-testid='archived-file-icon'\n            />\n        </span>\n    );\n\n    return (\n        <div className='file-details__container'>\n            {preview}\n            <div className='file-details'>\n                <div className='file-details__name'>{props.fileInfo.name}</div>\n                <div className='file-details__info'>{infoString}</div>\n            </div>\n        </div>\n    );\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport type {FileInfo} from '@mattermost/types/files';\n\nimport FileInfoPreview from 'components/file_info_preview';\n\nimport Constants from 'utils/constants';\n\ntype Props = {\n    fileInfo: FileInfo;\n    fileUrl: string;\n    isMobileView: boolean;\n}\n\ntype State = {\n    canPlay: boolean;\n}\n\nexport default class AudioVideoPreview extends React.PureComponent<Props, State> {\n    sourceRef = React.createRef<HTMLSourceElement>();\n    videoRef = React.createRef<HTMLVideoElement>();\n\n    constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            canPlay: true,\n        };\n    }\n\n    componentDidMount() {\n        this.handleFileInfoChanged();\n\n        if (this.sourceRef.current) {\n            this.sourceRef.current.addEventListener('error', this.handleLoadError, {once: true});\n        }\n    }\n\n    componentDidUpdate(prevProps: Props) {\n        if (this.props.fileUrl !== prevProps.fileUrl) {\n            this.handleFileInfoChanged();\n        }\n\n        if (this.sourceRef.current) {\n            this.sourceRef.current.addEventListener('error', this.handleLoadError, {once: true});\n        }\n    }\n\n    handleFileInfoChanged = () => {\n        let video = this.videoRef.current;\n        if (!video) {\n            video = document.createElement('video');\n        }\n\n        this.setState({\n            canPlay: true,\n        });\n    };\n\n    handleLoadError = () => {\n        this.setState({\n            canPlay: false,\n        });\n    };\n\n    stop = () => {\n        if (this.videoRef.current) {\n            const video = this.videoRef.current;\n            video.pause();\n            video.currentTime = 0;\n        }\n    };\n\n    render() {\n        if (!this.state.canPlay) {\n            return (\n                <FileInfoPreview\n                    fileInfo={this.props.fileInfo}\n                    fileUrl={this.props.fileUrl}\n                />\n            );\n        }\n\n        let width = Constants.WEB_VIDEO_WIDTH;\n        let height = Constants.WEB_VIDEO_HEIGHT;\n        if (this.props.isMobileView) {\n            width = Constants.MOBILE_VIDEO_WIDTH;\n            height = Constants.MOBILE_VIDEO_HEIGHT;\n        }\n\n        // add a key to the video to prevent React from using an old video source while a new one is loading\n        return (\n            <video\n                key={this.props.fileInfo.id}\n                ref={this.videoRef}\n                data-setup='{}'\n                controls={true}\n                width={width}\n                height={height}\n            >\n                <source\n                    ref={this.sourceRef}\n                    src={this.props.fileUrl}\n                />\n            </video>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getIsMobileView} from 'selectors/views/browser';\n\nimport type {GlobalState} from 'types/store';\n\nimport AudioVideoPreview from './audio_video_preview';\n\nfunction mapStateToProps(state: GlobalState) {\n    return {\n        isMobileView: getIsMobileView(state),\n    };\n}\n\nexport default connect(mapStateToProps)(AudioVideoPreview);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport type {FileInfo} from '@mattermost/types/files';\n\nimport FileInfoPreview from 'components/file_info_preview';\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\n\nimport Constants from 'utils/constants';\nimport * as SyntaxHighlighting from 'utils/syntax_highlighting';\n\nimport type {LinkInfo} from './file_preview_modal/types';\n\ntype Props = {\n    fileInfo: FileInfo;\n    fileUrl: string;\n    className: string;\n    getContent?: (code: string) => void;\n};\n\ntype State = {\n    code: string;\n    lang: string;\n    highlighted: string;\n    loading: boolean;\n    success: boolean;\n    prevFileUrl?: string;\n}\n\nexport default class CodePreview extends React.PureComponent<Props, State> {\n    constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            code: '',\n            lang: '',\n            highlighted: '',\n            loading: true,\n            success: true,\n        };\n    }\n\n    componentDidMount() {\n        this.getCode();\n    }\n\n    static getDerivedStateFromProps(props: Props, state: State) {\n        if (props.fileUrl !== state.prevFileUrl) {\n            const usedLanguage = SyntaxHighlighting.getLanguageFromFileExtension(props.fileInfo.extension);\n\n            if (!usedLanguage || props.fileInfo.size > Constants.CODE_PREVIEW_MAX_FILE_SIZE) {\n                return {\n                    code: '',\n                    lang: '',\n                    loading: false,\n                    success: false,\n                    prevFileUrl: props.fileUrl,\n                };\n            }\n\n            return {\n                code: '',\n                lang: usedLanguage,\n                loading: true,\n                prevFileUrl: props.fileUrl,\n            };\n        }\n        return null;\n    }\n\n    componentDidUpdate(prevProps: Props) {\n        if (this.props.fileUrl !== prevProps.fileUrl) {\n            this.getCode();\n        }\n    }\n\n    getCode = async () => {\n        if (!this.state.lang || this.props.fileInfo.size > Constants.CODE_PREVIEW_MAX_FILE_SIZE) {\n            return;\n        }\n        try {\n            const data = await fetch(this.props.fileUrl);\n            const text = await data.text();\n            this.handleReceivedCode(text);\n        } catch (e) {\n            this.handleReceivedError();\n        }\n    };\n\n    handleReceivedCode = async (data: string | Node) => {\n        let code = data as string;\n        const Data = data as Node;\n        if (Data.nodeName === '#document') {\n            code = new XMLSerializer().serializeToString(Data);\n        }\n        this.props.getContent?.(code);\n        this.setState({\n            code,\n            highlighted: await SyntaxHighlighting.highlight(this.state.lang, code),\n            loading: false,\n            success: true,\n        });\n    };\n\n    handleReceivedError = () => {\n        this.setState({loading: false, success: false});\n    };\n\n    static supports(fileInfo: FileInfo | LinkInfo) {\n        return Boolean(SyntaxHighlighting.getLanguageFromFileExtension(fileInfo.extension));\n    }\n\n    render() {\n        if (this.state.loading) {\n            return (\n                <div className='view-image__loading'>\n                    <LoadingSpinner/>\n                </div>\n            );\n        }\n\n        if (!this.state.success) {\n            return (\n                <FileInfoPreview\n                    fileInfo={this.props.fileInfo}\n                    fileUrl={this.props.fileUrl}\n                />\n            );\n        }\n\n        const language = SyntaxHighlighting.getLanguageName(this.state.lang);\n\n        return (\n            <div className='post-code code-preview'>\n                <span className='post-code__language'>\n                    {`${this.props.fileInfo.name} - ${language}`}\n                </span>\n                <div className='hljs'>\n                    <div className='post-code__line-numbers'>\n                        {SyntaxHighlighting.renderLineNumbers(this.state.code)}\n                    </div>\n                    <code dangerouslySetInnerHTML={{__html: this.state.highlighted}}/>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {memo} from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {useSelector} from 'react-redux';\n\nimport type {Post} from '@mattermost/types/posts';\nimport type {UserProfile} from '@mattermost/types/users';\n\nimport {makeGetChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {\n    getUser as selectUser,\n    makeGetDisplayName,\n} from 'mattermost-redux/selectors/entities/users';\n\nimport Avatar from 'components/widgets/users/avatar/avatar';\n\nimport {imageURLForUser} from 'utils/utils';\n\nimport type {GlobalState} from 'types/store';\n\nimport './file_preview_modal_info.scss';\n\ninterface Props {\n    showFileName: boolean;\n    filename: string;\n    post?: Post;\n}\n\nconst displayNameGetter = makeGetDisplayName();\n\nconst FilePreviewModalInfo: React.FC<Props> = (props: Props) => {\n    const user = useSelector((state: GlobalState) => selectUser(state, props.post?.user_id ?? '')) as UserProfile | undefined;\n    const channel = useSelector((state: GlobalState) => {\n        const getChannel = makeGetChannel();\n        return getChannel(state, props.post?.channel_id ?? '');\n    });\n    const name = useSelector((state: GlobalState) => displayNameGetter(state, props.post?.user_id ?? '', true));\n\n    let info;\n    const channelName = channel ? (\n        <FormattedMessage\n            id='file_preview_modal_info.shared_in'\n            defaultMessage='Shared in ~{name}'\n            values={{\n                name: channel.display_name || channel.name,\n            }}\n        />\n    ) : null;\n    if (props.showFileName) {\n        info = (\n            <>\n                <h5 className='file-preview-modal__file-name'>{props.filename}\n                </h5>\n                <span className='file-preview-modal__file-details'>\n                    <span className='file-preview-modal__file-details-user-name'>{name}</span>\n                    <span className='file-preview-modal__channel'>{channelName}</span>\n                </span>\n            </>\n        );\n    } else {\n        info = (\n            <>\n                <h5 className='file-preview-modal__user-name'>{name}\n                </h5>\n                <span className='file-preview-modal__channel'>{channelName}\n                </span>\n            </>\n        );\n    }\n\n    return (\n        <div className='file-preview-modal__info'>\n            {\n                (props.post && Object.keys(props.post).length > 0) &&\n                <Avatar\n                    size='lg'\n                    username={user?.username}\n                    url={imageURLForUser(props.post.user_id, user?.last_picture_update)}\n                    className='file-preview-modal__avatar'\n                    alt=''\n                />\n            }\n\n            <div className='file-preview-modal__info-details'>\n                {info}\n            </div>\n        </div>\n    );\n};\n\nexport default memo(FilePreviewModalInfo);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport type {FileInfo} from '@mattermost/types/files';\n\nexport type LinkInfo = {\n    has_preview_image: boolean;\n    link: string;\n    extension: string;\n    name: string;\n}\n\nexport function isFileInfo(info: FileInfo | LinkInfo): info is FileInfo {\n    return Boolean((info as FileInfo).id);\n}\n\nexport function isLinkInfo(info: FileInfo | LinkInfo): info is LinkInfo {\n    return Boolean((info as LinkInfo).link) && !isFileInfo(info);\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {memo, useEffect, useState} from 'react';\nimport {useIntl} from 'react-intl';\nimport {useDispatch, useSelector} from 'react-redux';\n\nimport type {FileInfo} from '@mattermost/types/files';\n\nimport {getFilePublicLink} from 'mattermost-redux/actions/files';\nimport {getFilePublicLink as selectFilePublicLink} from 'mattermost-redux/selectors/entities/files';\n\nimport CopyButton from 'components/copy_button';\nimport ExternalLink from 'components/external_link';\nimport WithTooltip from 'components/with_tooltip';\n\nimport {FileTypes} from 'utils/constants';\nimport {copyToClipboard, getFileType} from 'utils/utils';\n\nimport type {GlobalState} from 'types/store';\n\nimport {isFileInfo} from '../types';\nimport type {LinkInfo} from '../types';\n\nimport './file_preview_modal_main_actions.scss';\n\nconst COPIED_TOOLTIP_DURATION = 2000;\n\ninterface Props {\n    showOnlyClose?: boolean;\n    showClose?: boolean;\n    showPublicLink?: boolean;\n    filename: string;\n    fileURL: string;\n    fileInfo: FileInfo | LinkInfo;\n    enablePublicLink: boolean;\n    canDownloadFiles: boolean;\n    canCopyContent: boolean;\n    handleModalClose: () => void;\n    content: string;\n}\n\nconst FilePreviewModalMainActions: React.FC<Props> = (props: Props) => {\n    const intl = useIntl();\n\n    const selectedFilePublicLink = useSelector((state: GlobalState) => selectFilePublicLink(state)?.link);\n    const dispatch = useDispatch();\n    const [publicLinkCopied, setPublicLinkCopied] = useState(false);\n\n    useEffect(() => {\n        if (isFileInfo(props.fileInfo) && props.enablePublicLink) {\n            dispatch(getFilePublicLink(props.fileInfo.id));\n        }\n    }, [props.fileInfo, props.enablePublicLink]);\n\n    useEffect(() => {\n        if (publicLinkCopied) {\n            setTimeout(() => {\n                setPublicLinkCopied(false);\n            }, COPIED_TOOLTIP_DURATION);\n        }\n    }, [publicLinkCopied]);\n\n    const copyPublicLink = () => {\n        copyToClipboard(selectedFilePublicLink ?? '');\n        setPublicLinkCopied(true);\n    };\n\n    const closeMessage = intl.formatMessage({\n        id: 'full_screen_modal.close',\n        defaultMessage: 'Close',\n    });\n    const closeButton = (\n        <WithTooltip\n            title={closeMessage}\n            key='publicLink'\n        >\n            <button\n                className='file-preview-modal-main-actions__action-item'\n                onClick={props.handleModalClose}\n                aria-label={closeMessage}\n            >\n                <i className='icon icon-close'/>\n            </button>\n        </WithTooltip>\n    );\n\n    let publicTooltipMessage;\n    if (publicLinkCopied) {\n        publicTooltipMessage = intl.formatMessage({\n            id: 'file_preview_modal_main_actions.public_link-copied',\n            defaultMessage: 'Public link copied',\n        });\n    } else {\n        publicTooltipMessage = intl.formatMessage({\n            id: 'view_image_popover.publicLink',\n            defaultMessage: 'Get a public link',\n        });\n    }\n    const publicLink = (\n        <WithTooltip\n            key='filePreviewPublicLink'\n            title={publicTooltipMessage}\n        >\n            <a\n                href='#'\n                className='file-preview-modal-main-actions__action-item'\n                onClick={copyPublicLink}\n                aria-label={publicTooltipMessage}\n            >\n                <i className='icon icon-link-variant'/>\n            </a>\n        </WithTooltip>\n    );\n\n    const downloadMessage = intl.formatMessage({\n        id: 'view_image_popover.download',\n        defaultMessage: 'Download',\n    });\n    const download = (\n        <WithTooltip\n            key='download'\n            title={downloadMessage}\n        >\n            <ExternalLink\n                href={props.fileURL}\n                className='file-preview-modal-main-actions__action-item'\n                location='file_preview_modal_main_actions'\n                download={props.filename}\n                aria-label={downloadMessage}\n            >\n                <i className='icon icon-download-outline'/>\n            </ExternalLink>\n        </WithTooltip>\n    );\n\n    const copy = (\n        <CopyButton\n            className='file-preview-modal-main-actions__action-item'\n            isForText={getFileType(props.fileInfo.extension) === FileTypes.TEXT}\n            content={props.content}\n        />\n    );\n    return (\n        <div className='file-preview-modal-main-actions__actions'>\n            {!props.showOnlyClose && props.canCopyContent && copy}\n            {!props.showOnlyClose && props.enablePublicLink && props.showPublicLink && publicLink}\n            {!props.showOnlyClose && props.canDownloadFiles && download}\n            {props.showClose && closeButton}\n        </div>\n    );\n};\n\nFilePreviewModalMainActions.defaultProps = {\n    showOnlyClose: false,\n    showClose: true,\n    showPublicLink: true,\n};\n\nexport default memo(FilePreviewModalMainActions);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {memo} from 'react';\n\nimport type {FileInfo} from '@mattermost/types/files';\nimport type {Post} from '@mattermost/types/posts';\n\nimport FilePreviewModalInfo from '../file_preview_modal_info/file_preview_modal_info';\nimport FilePreviewModalMainActions from '../file_preview_modal_main_actions/file_preview_modal_main_actions';\nimport type {LinkInfo} from '../types';\n\nimport './file_preview_modal_footer.scss';\n\ninterface Props {\n    fileInfo: FileInfo | LinkInfo;\n    filename: string;\n    post?: Post;\n    fileURL: string;\n    showPublicLink?: boolean;\n    enablePublicLink: boolean;\n    canDownloadFiles: boolean;\n    isExternalFile: boolean;\n    handleModalClose: () => void;\n    canCopyContent: boolean;\n    content: string;\n}\n\nconst FilePreviewModalFooter: React.FC<Props> = ({post, ...actionProps}: Props) => {\n    return (\n        <div className='file-preview-modal-footer'>\n            <FilePreviewModalInfo\n                showFileName={false}\n                post={post}\n                filename={actionProps.filename}\n            />\n            <FilePreviewModalMainActions\n                {...actionProps}\n                showClose={false}\n                showOnlyClose={false}\n            />\n        </div>\n    );\n};\nexport default memo(FilePreviewModalFooter);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {memo} from 'react';\nimport {FormattedMessage, useIntl} from 'react-intl';\n\nimport './file_preview_modal_main_nav.scss';\n\nimport WithTooltip from 'components/with_tooltip';\n\ninterface Props {\n    fileIndex: number;\n    totalFiles: number;\n    handlePrev: () => void;\n    handleNext: () => void;\n}\n\nconst FilePreviewModalMainNav: React.FC<Props> = (props: Props) => {\n    const {formatMessage} = useIntl();\n    const leftArrow = (\n        <WithTooltip\n            key='previewArrowLeft'\n            title={\n                <FormattedMessage\n                    id='generic.close'\n                    defaultMessage='Close'\n                />\n            }\n        >\n            <button\n                id='previewArrowLeft'\n                className='file_preview_modal_main_nav__prev'\n                onClick={props.handlePrev}\n                aria-label={formatMessage({id: 'file_preview_modal_main_nav.prevAriaLabel', defaultMessage: 'Previous file'})}\n            >\n                <i className='icon icon-chevron-left'/>\n            </button>\n        </WithTooltip>\n    );\n\n    const rightArrow = (\n        <WithTooltip\n            key='publicLink'\n            title={\n                <FormattedMessage\n                    id='generic.next'\n                    defaultMessage='Next'\n                />\n            }\n        >\n            <button\n                id='previewArrowRight'\n                className='file_preview_modal_main_nav__next'\n                onClick={props.handleNext}\n                aria-label={formatMessage({id: 'file_preview_modal_main_nav.nextAriaLabel', defaultMessage: 'Next file'})}\n            >\n                <i className='icon icon-chevron-right'/>\n            </button>\n        </WithTooltip>\n    );\n    return (\n        <div className='file_preview_modal_main_nav'>\n            {leftArrow}\n            <span\n                className='modal-bar-file-count'\n                aria-live='polite'\n                aria-atomic='true'\n            >\n                <FormattedMessage\n                    id='file_preview_modal_main_nav.file'\n                    defaultMessage='{count, number} of {total, number}'\n                    values={{\n                        count: (props.fileIndex + 1),\n                        total: props.totalFiles,\n                    }}\n                />\n            </span>\n            {rightArrow}\n        </div>\n    );\n};\n\nexport default memo(FilePreviewModalMainNav);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {memo} from 'react';\n\nimport type {FileInfo} from '@mattermost/types/files';\nimport type {Post} from '@mattermost/types/posts';\n\nimport FilePreviewModalInfo from '../file_preview_modal_info/file_preview_modal_info';\nimport FilePreviewModalMainActions from '../file_preview_modal_main_actions/file_preview_modal_main_actions';\nimport FilePreviewModalMainNav from '../file_preview_modal_main_nav/file_preview_modal_main_nav';\nimport type {LinkInfo} from '../types';\n\nimport './file_preview_modal_header.scss';\n\ninterface Props {\n    isMobileView: boolean;\n    fileIndex: number;\n    fileInfo: FileInfo | LinkInfo;\n    totalFiles: number;\n    filename: string;\n    post: Post;\n    fileURL: string;\n    showPublicLink?: boolean;\n    enablePublicLink: boolean;\n    canDownloadFiles: boolean;\n    canCopyContent: boolean;\n    isExternalFile: boolean;\n    handlePrev: () => void;\n    handleNext: () => void;\n    handleModalClose: () => void;\n    content: string;\n}\n\nconst FilePreviewModalHeader: React.FC<Props> = ({post, totalFiles, fileIndex, ...actionProps}: Props) => {\n    let mainActions = (<div/>);\n    if (totalFiles > 1) {\n        mainActions = (\n            <FilePreviewModalMainNav\n                totalFiles={totalFiles}\n                fileIndex={fileIndex}\n                handlePrev={actionProps.handlePrev}\n                handleNext={actionProps.handleNext}\n            />\n        );\n    }\n    const actions = (\n        <FilePreviewModalMainActions\n            {...actionProps}\n            showOnlyClose={actionProps.isMobileView}\n        />);\n    return (\n        <div className='file-preview-modal-header'>\n            {actionProps.isMobileView && actions}\n            {!actionProps.isMobileView &&\n            <FilePreviewModalInfo\n                showFileName={true}\n                post={post}\n                filename={actionProps.filename}\n            />\n            }\n            {mainActions}\n            {!actionProps.isMobileView && actions}\n        </div>\n    );\n};\n\nexport default memo(FilePreviewModalHeader);\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport type {FileInfo} from '@mattermost/types/files';\n\nimport {getFilePreviewUrl, getFileDownloadUrl} from 'mattermost-redux/utils/file_utils';\n\nimport {FileTypes} from 'utils/constants';\nimport {getFileType} from 'utils/utils';\n\nimport './image_preview.scss';\n\ninterface Props {\n    fileInfo: FileInfo;\n    canDownloadFiles: boolean;\n}\n\nexport default function ImagePreview({fileInfo, canDownloadFiles}: Props) {\n    const isExternalFile = !fileInfo.id;\n\n    let fileUrl;\n    let previewUrl;\n    if (isExternalFile) {\n        fileUrl = fileInfo.link;\n        previewUrl = fileInfo.link;\n    } else {\n        fileUrl = getFileDownloadUrl(fileInfo.id);\n        previewUrl = fileInfo.has_preview_image ? getFilePreviewUrl(fileInfo.id) : fileUrl;\n    }\n\n    if (!canDownloadFiles) {\n        return <img src={previewUrl}/>;\n    }\n\n    let conditionalSVGStyleAttribute;\n    if (getFileType(fileInfo.extension) === FileTypes.SVG) {\n        conditionalSVGStyleAttribute = {\n            width: fileInfo.width,\n            height: 'auto',\n        };\n    }\n\n    return (\n        <a\n            className='image_preview'\n            href='#'\n        >\n            <img\n                className='image_preview__image'\n                loading='lazy'\n                data-testid='imagePreview'\n                alt={'preview url image'}\n                src={previewUrl}\n                style={conditionalSVGStyleAttribute}\n            />\n        </a>\n    );\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport debounce from 'lodash/debounce';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport WithTooltip from 'components/with_tooltip';\n\nimport {ZoomSettings} from 'utils/constants';\n\nexport interface Props {\n    scale?: number;\n    showZoomControls?: boolean;\n    handleZoomIn?: () => void;\n    handleZoomOut?: () => void;\n    handleZoomReset?: () => void;\n}\n\nexport default class PopoverBar extends React.PureComponent<Props> {\n    render() {\n        const zoomControls: React.ReactNode[] = [];\n        let wrappedZoomControls: React.ReactNode = null;\n        if (this.props.showZoomControls) {\n            let zoomResetButton;\n            let zoomOutButton;\n            let zoomInButton;\n\n            if (this.props.scale && this.props.scale > ZoomSettings.MIN_SCALE) {\n                zoomOutButton = (\n                    <span className='modal-zoom-btn'>\n                        <a onClick={this.props.handleZoomOut && debounce(this.props.handleZoomOut, 300, {maxWait: 300})}>\n                            <i className='icon icon-minus'/>\n                        </a>\n                    </span>\n                );\n            } else {\n                zoomOutButton = (\n                    <span className='btn-inactive'>\n                        <i className='icon icon-minus'/>\n                    </span>\n                );\n            }\n            zoomControls.push(\n                <WithTooltip\n                    key='zoomOut'\n                    title={\n                        <FormattedMessage\n                            id='view_image.zoom_out'\n                            defaultMessage='Zoom Out'\n                        />\n                    }\n                >\n                    {zoomOutButton}\n                </WithTooltip>,\n            );\n\n            if (this.props.scale && this.props.scale > ZoomSettings.DEFAULT_SCALE) {\n                zoomResetButton = (\n                    <span className='modal-zoom-btn'>\n                        <a onClick={this.props.handleZoomReset}>\n                            <i className='icon icon-magnify-minus'/>\n                        </a>\n                    </span>\n                );\n            } else if (this.props.scale && this.props.scale < ZoomSettings.DEFAULT_SCALE) {\n                zoomResetButton = (\n                    <span className='modal-zoom-btn'>\n                        <a onClick={this.props.handleZoomReset}>\n                            <i className='icon icon-magnify-plus'/>\n                        </a>\n                    </span>\n                );\n            } else {\n                zoomResetButton = (\n                    <span className='btn-inactive'>\n                        <i className='icon icon-magnify-minus'/>\n                    </span>\n                );\n            }\n            zoomControls.push(\n                <WithTooltip\n                    key='zoomReset'\n                    title={\n                        <FormattedMessage\n                            id='view_image.zoom_reset'\n                            defaultMessage='Reset Zoom'\n                        />\n                    }\n                >\n                    {zoomResetButton}\n                </WithTooltip>,\n            );\n\n            if (this.props.scale && this.props.scale < ZoomSettings.MAX_SCALE) {\n                zoomInButton = (\n                    <span className='modal-zoom-btn'>\n                        <a onClick={this.props.handleZoomIn && debounce(this.props.handleZoomIn, 300, {maxWait: 300})}>\n                            <i className='icon icon-plus'/>\n                        </a>\n                    </span>\n\n                );\n            } else {\n                zoomInButton = (\n                    <span className='btn-inactive'>\n                        <i className='icon icon-plus'/>\n                    </span>\n                );\n            }\n            zoomControls.push(\n                <WithTooltip\n                    key='zoomIn'\n                    title={\n                        <FormattedMessage\n                            id='view_image.zoom_in'\n                            defaultMessage='Zoom In'\n                        />\n                    }\n                >\n                    {zoomInButton}\n                </WithTooltip>,\n            );\n\n            wrappedZoomControls = (\n                <div className='modal-column'>\n                    {zoomControls}\n                </div>\n            );\n        }\n\n        return (\n            <div\n                data-testid='fileCountFooter'\n                className='modal-button-bar file-preview-modal__zoom-bar'\n            >\n                {wrappedZoomControls}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PopoverBar from './popover_bar';\n\nexport default PopoverBar;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport classNames from 'classnames';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport type {FileInfo} from '@mattermost/types/files';\nimport type {Post} from '@mattermost/types/posts';\n\nimport {getFileDownloadUrl, getFilePreviewUrl, getFileUrl} from 'mattermost-redux/utils/file_utils';\n\nimport ArchivedPreview from 'components/archived_preview';\nimport AudioVideoPreview from 'components/audio_video_preview';\nimport CodePreview from 'components/code_preview';\nimport FileInfoPreview from 'components/file_info_preview';\nimport LoadingImagePreview from 'components/loading_image_preview';\nimport type {Props as PDFPreviewComponentProps} from 'components/pdf_preview';\n\nimport Constants, {FileTypes, ZoomSettings} from 'utils/constants';\nimport * as Keyboard from 'utils/keyboard';\nimport * as Utils from 'utils/utils';\n\nimport type {FilePreviewComponent} from 'types/store/plugins';\n\nimport FilePreviewModalFooter from './file_preview_modal_footer/file_preview_modal_footer';\nimport FilePreviewModalHeader from './file_preview_modal_header/file_preview_modal_header';\nimport ImagePreview from './image_preview';\nimport PopoverBar from './popover_bar';\nimport {isFileInfo, isLinkInfo} from './types';\nimport type {LinkInfo} from './types';\n\nimport './file_preview_modal.scss';\n\nconst PDFPreview = React.lazy<React.ComponentType<PDFPreviewComponentProps>>(() => import('components/pdf_preview'));\n\nconst KeyCodes = Constants.KeyCodes;\n\nexport type Props = {\n    canDownloadFiles: boolean;\n    enablePublicLink: boolean;\n\n    /**\n     * List of FileInfo to view\n     **/\n    fileInfos: Array<FileInfo | LinkInfo>;\n\n    isMobileView: boolean;\n    pluginFilePreviewComponents: FilePreviewComponent[];\n    onExited: () => void;\n\n    /**\n     * The id of the post the files are attached to\n     */\n    postId?: string;\n\n    /**\n     * The post the files are attached to\n     * Either postId or post can be passed to FilePreviewModal\n     */\n    post?: Post;\n\n    /**\n     * The index number of starting image\n     **/\n    startIndex: number;\n}\n\ntype State = {\n    show: boolean;\n    imageIndex: number;\n    imageHeight: number | string;\n    loaded: Record<number, boolean>;\n    prevFileInfosCount: number;\n    progress: Record<number, number>;\n    showCloseBtn: boolean;\n    showZoomControls: boolean;\n    scale: Record<number, number>;\n    content: string;\n}\n\nexport default class FilePreviewModal extends React.PureComponent<Props, State> {\n    static defaultProps = {\n        fileInfos: [],\n        startIndex: 0,\n        pluginFilePreviewComponents: [],\n    };\n\n    constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            show: true,\n            imageIndex: this.props.startIndex,\n            imageHeight: '100%',\n            loaded: Utils.fillRecord(false, this.props.fileInfos.length),\n            prevFileInfosCount: 0,\n            progress: Utils.fillRecord(0, this.props.fileInfos.length),\n            showCloseBtn: false,\n            showZoomControls: false,\n            scale: Utils.fillRecord(ZoomSettings.DEFAULT_SCALE, this.props.fileInfos.length),\n            content: '',\n        };\n    }\n\n    handleNext = () => {\n        let id = this.state.imageIndex + 1;\n        if (id > this.props.fileInfos.length - 1) {\n            id = 0;\n        }\n        this.showImage(id);\n    };\n\n    handlePrev = () => {\n        let id = this.state.imageIndex - 1;\n        if (id < 0) {\n            id = this.props.fileInfos.length - 1;\n        }\n        this.showImage(id);\n    };\n\n    handleKeyPress = (e: KeyboardEvent) => {\n        if (Keyboard.isKeyPressed(e, KeyCodes.RIGHT)) {\n            this.handleNext();\n        } else if (Keyboard.isKeyPressed(e, KeyCodes.LEFT)) {\n            this.handlePrev();\n        }\n    };\n\n    componentDidMount() {\n        document.addEventListener('keyup', this.handleKeyPress);\n\n        this.showImage(this.props.startIndex);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keyup', this.handleKeyPress);\n    }\n\n    static getDerivedStateFromProps(props: Props, state: State) {\n        const updatedState: Partial<State> = {};\n        if (props.fileInfos[state.imageIndex] && props.fileInfos[state.imageIndex].extension === FileTypes.PDF) {\n            updatedState.showZoomControls = true;\n        } else {\n            updatedState.showZoomControls = false;\n        }\n        if (props.fileInfos.length !== state.prevFileInfosCount) {\n            updatedState.loaded = Utils.fillRecord(false, props.fileInfos.length);\n            updatedState.progress = Utils.fillRecord(0, props.fileInfos.length);\n            updatedState.prevFileInfosCount = props.fileInfos.length;\n        }\n        return Object.keys(updatedState).length ? updatedState : null;\n    }\n\n    showImage = (id: number) => {\n        this.setState({imageIndex: id});\n\n        const imageHeight = window.innerHeight - 100;\n        this.setState({imageHeight});\n\n        if (!this.state.loaded[id]) {\n            this.loadImage(id);\n        }\n    };\n\n    isImageUrl = (url: string): boolean => {\n        const fileType = Utils.getFileType(url);\n        return fileType === FileTypes.IMAGE || fileType === FileTypes.SVG;\n    };\n\n    private getFileTypeFromFileInfo = (fileInfo: FileInfo | LinkInfo): typeof FileTypes[keyof typeof FileTypes] => {\n        if (isFileInfo(fileInfo)) {\n            return Utils.getFileType(fileInfo.extension);\n        }\n\n        if (isLinkInfo(fileInfo)) {\n            // if extension is not available or is longer than 5 characters, use the link to determine the file type\n            const maxLenghtExtension = 11; // applescript is the longest extension\n            const extensionOrLink = fileInfo.extension && fileInfo.extension.length <= maxLenghtExtension ? fileInfo.extension : fileInfo.link;\n            return Utils.getFileType(extensionOrLink);\n        }\n\n        return FileTypes.OTHER;\n    };\n\n    loadImage = (index: number) => {\n        const fileInfo = this.props.fileInfos[index];\n        if (isFileInfo(fileInfo) && fileInfo.archived) {\n            this.handleImageLoaded(index);\n            return;\n        }\n\n        // Determine file type using helper method\n        const fileType = this.getFileTypeFromFileInfo(fileInfo);\n\n        // Check if this is an image\n        const isImage = fileType === FileTypes.IMAGE;\n\n        if (isImage) {\n            let previewUrl = '';\n            if (isFileInfo(fileInfo)) {\n                if (fileInfo.has_preview_image) {\n                    previewUrl = getFilePreviewUrl(fileInfo.id);\n                } else {\n                    // some images (eg animated gifs) just show the file itself and not a preview\n                    previewUrl = getFileUrl(fileInfo.id);\n                }\n            } else if (isLinkInfo(fileInfo)) {\n                // For LinkInfo, use the link directly\n                previewUrl = fileInfo.link;\n            }\n\n            Utils.loadImage(\n                previewUrl,\n                () => this.handleImageLoaded(index),\n                (completedPercentage) => this.handleImageProgress(index, completedPercentage),\n            );\n        } else {\n            // there's nothing to load for non-image files\n            this.handleImageLoaded(index);\n        }\n    };\n\n    handleImageLoaded = (index: number) => {\n        this.setState((prevState) => {\n            return {\n                loaded: {\n                    ...prevState.loaded,\n                    [index]: true,\n                },\n            };\n        });\n    };\n\n    handleImageProgress = (index: number, completedPercentage: number) => {\n        this.setState((prevState) => {\n            return {\n                progress: {\n                    ...prevState.progress,\n                    [index]: completedPercentage,\n                },\n            };\n        });\n    };\n\n    onMouseEnterImage = () => {\n        this.setState({showCloseBtn: true});\n    };\n\n    onMouseLeaveImage = () => {\n        this.setState({showCloseBtn: false});\n    };\n\n    setScale = (index: number, scale: number) => {\n        this.setState((prevState) => {\n            return {\n                scale: {\n                    ...prevState.scale,\n                    [index]: scale,\n                },\n            };\n        });\n    };\n\n    handleZoomIn = () => {\n        let newScale = this.state.scale[this.state.imageIndex];\n        newScale = Math.min(newScale + ZoomSettings.SCALE_DELTA, ZoomSettings.MAX_SCALE);\n        this.setScale(this.state.imageIndex, newScale);\n    };\n\n    handleZoomOut = () => {\n        let newScale = this.state.scale[this.state.imageIndex];\n        newScale = Math.max(newScale - ZoomSettings.SCALE_DELTA, ZoomSettings.MIN_SCALE);\n        this.setScale(this.state.imageIndex, newScale);\n    };\n\n    handleZoomReset = () => {\n        this.setScale(this.state.imageIndex, ZoomSettings.DEFAULT_SCALE);\n    };\n\n    handleModalClose = () => {\n        this.setState({show: false});\n    };\n\n    getContent = (content: string) => {\n        this.setState({content});\n    };\n\n    handleBgClose = (e: React.MouseEvent) => {\n        if (e.currentTarget === e.target) {\n            this.handleModalClose();\n        }\n    };\n\n    render() {\n        if (this.props.fileInfos.length < 1 || this.props.fileInfos.length - 1 < this.state.imageIndex) {\n            return null;\n        }\n\n        const fileInfo = this.props.fileInfos[this.state.imageIndex];\n\n        // Determine file type using helper method\n        const fileType = this.getFileTypeFromFileInfo(fileInfo);\n\n        let showPublicLink;\n        let fileName;\n        let fileUrl;\n        let fileDownloadUrl;\n        let isExternalFile;\n        let canCopyContent = false;\n        if (isFileInfo(fileInfo)) {\n            showPublicLink = true;\n            fileName = fileInfo.name;\n            fileUrl = getFileUrl(fileInfo.id);\n            fileDownloadUrl = getFileDownloadUrl(fileInfo.id);\n            isExternalFile = false;\n        } else {\n            showPublicLink = false;\n            fileName = fileInfo.name || fileInfo.link;\n            fileUrl = fileInfo.link;\n            fileDownloadUrl = fileInfo.link;\n            isExternalFile = true;\n        }\n\n        let dialogClassName = 'a11y__modal modal-image file-preview-modal';\n\n        let content;\n        let zoomBar;\n\n        if (isFileInfo(fileInfo) && fileInfo.archived) {\n            content = (\n                <ArchivedPreview\n                    fileInfo={fileInfo}\n                />\n            );\n        }\n\n        if (!isFileInfo(fileInfo) || !fileInfo.archived) {\n            if (this.state.loaded[this.state.imageIndex]) {\n                if (fileType === FileTypes.IMAGE || fileType === FileTypes.SVG) {\n                    content = (\n                        <ImagePreview\n                            fileInfo={fileInfo as FileInfo}\n                            canDownloadFiles={this.props.canDownloadFiles}\n                        />\n                    );\n                } else if (fileType === FileTypes.VIDEO || fileType === FileTypes.AUDIO) {\n                    content = (\n                        <AudioVideoPreview\n                            fileInfo={fileInfo as FileInfo}\n                            fileUrl={fileUrl}\n                        />\n                    );\n                } else if (fileType === FileTypes.PDF) {\n                    content = (\n                        <div\n                            className='file-preview-modal__scrollable'\n                            onClick={this.handleBgClose}\n                        >\n                            <React.Suspense fallback={null}>\n                                <PDFPreview\n                                    fileInfo={fileInfo as FileInfo}\n                                    fileUrl={fileUrl}\n                                    scale={this.state.scale[this.state.imageIndex]}\n                                    handleBgClose={this.handleBgClose}\n                                />\n                            </React.Suspense>\n                        </div>\n                    );\n                    zoomBar = (\n                        <PopoverBar\n                            scale={this.state.scale[this.state.imageIndex]}\n                            showZoomControls={this.state.showZoomControls}\n                            handleZoomIn={this.handleZoomIn}\n                            handleZoomOut={this.handleZoomOut}\n                            handleZoomReset={this.handleZoomReset}\n                        />\n                    );\n                } else if (CodePreview.supports(fileInfo)) {\n                    dialogClassName += ' modal-code';\n                    canCopyContent = true;\n                    content = (\n                        <CodePreview\n                            fileInfo={fileInfo as FileInfo}\n                            fileUrl={fileUrl}\n                            getContent={this.getContent}\n                            className='file-preview-modal__code-preview'\n                        />\n                    );\n                } else {\n                    content = (\n                        <FileInfoPreview\n                            fileInfo={fileInfo as FileInfo}\n                            fileUrl={fileUrl}\n                        />\n                    );\n                }\n            } else {\n                // display a progress indicator when the preview for an image is still loading\n                const progress = Math.floor(this.state.progress[this.state.imageIndex]);\n\n                content = (\n                    <LoadingImagePreview\n                        loading={\n                            <FormattedMessage\n                                id='view_image.loading'\n                                defaultMessage='Loading'\n                            />\n                        }\n                        progress={progress}\n                    />\n                );\n            }\n        }\n\n        if (isFileInfo(fileInfo) && !fileInfo.archived) {\n            for (const preview of this.props.pluginFilePreviewComponents) {\n                if (preview.override(fileInfo, this.props.post)) {\n                    content = (\n                        <preview.component\n                            fileInfo={fileInfo}\n                            post={this.props.post}\n                            onModalDismissed={this.handleModalClose}\n                        />\n                    );\n                    break;\n                }\n            }\n        }\n\n        return (\n            <Modal\n                show={this.state.show}\n                onHide={this.handleModalClose}\n                onExited={this.props.onExited}\n                className='modal-image file-preview-modal'\n                dialogClassName={dialogClassName}\n                animation={true}\n                backdrop={false}\n                role='none'\n                style={{paddingLeft: 0}}\n                aria-labelledby='viewImageModalLabel'\n            >\n                <Modal.Body className='file-preview-modal__body'>\n                    <div\n                        className={'modal-image__wrapper'}\n                        onClick={this.handleModalClose}\n                    >\n                        <div\n                            className='file-preview-modal__main-ctr'\n                            onMouseEnter={this.onMouseEnterImage}\n                            onMouseLeave={this.onMouseLeaveImage}\n                            onClick={(e) => e.stopPropagation()}\n                        >\n                            <Modal.Title\n                                componentClass='div'\n                                id='viewImageModalLabel'\n                                className='file-preview-modal__title'\n                            >\n                                <FilePreviewModalHeader\n                                    isMobileView={this.props.isMobileView}\n                                    post={this.props.post!}\n                                    showPublicLink={showPublicLink}\n                                    fileIndex={this.state.imageIndex}\n                                    totalFiles={this.props.fileInfos?.length}\n                                    filename={fileName}\n                                    fileURL={fileDownloadUrl}\n                                    fileInfo={fileInfo}\n                                    enablePublicLink={this.props.enablePublicLink}\n                                    canDownloadFiles={this.props.canDownloadFiles}\n                                    canCopyContent={canCopyContent}\n                                    isExternalFile={isExternalFile}\n                                    handlePrev={this.handlePrev}\n                                    handleNext={this.handleNext}\n                                    handleModalClose={this.handleModalClose}\n                                    content={this.state.content}\n                                />\n                                {zoomBar}\n                            </Modal.Title>\n                            <div\n                                className={classNames(\n                                    'file-preview-modal__content',\n                                    {\n                                        'file-preview-modal__content-scrollable': (!isFileInfo(fileInfo) || !fileInfo.archived) && this.state.loaded[this.state.imageIndex] && (fileType === FileTypes.PDF),\n                                    },\n                                )}\n                                onClick={this.handleBgClose}\n                            >\n                                {content}\n                            </div>\n                            { this.props.isMobileView &&\n                                <FilePreviewModalFooter\n                                    post={this.props.post}\n                                    showPublicLink={showPublicLink}\n                                    filename={fileName}\n                                    fileURL={fileDownloadUrl}\n                                    fileInfo={fileInfo}\n                                    enablePublicLink={this.props.enablePublicLink}\n                                    canDownloadFiles={this.props.canDownloadFiles}\n                                    canCopyContent={canCopyContent}\n                                    isExternalFile={isExternalFile}\n                                    handleModalClose={this.handleModalClose}\n                                    content={this.state.content}\n                                />\n                            }\n                        </div>\n                    </div>\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n"],"names":["FileInfoPreview","_ref","fileInfo","fileUrl","canDownloadFiles","intl","useIntl","infoParts","extension","push","formatMessage","id","defaultMessage","toUpperCase","size","Utils","infoString","join","preview","React","className","href","alt","src","name","propTypes","_pt","isRequired","connect","state","config","getConfig","props","ArchiveOutlineIcon","color","AudioVideoPreview","constructor","super","_defineProperty","video","this","videoRef","current","document","createElement","setState","canPlay","pause","currentTime","componentDidMount","handleFileInfoChanged","sourceRef","addEventListener","handleLoadError","once","componentDidUpdate","prevProps","render","width","Constants","WEB_VIDEO_WIDTH","height","WEB_VIDEO_HEIGHT","isMobileView","MOBILE_VIDEO_WIDTH","MOBILE_VIDEO_HEIGHT","key","ref","controls","getIsMobileView","CodePreview","async","lang","CODE_PREVIEW_MAX_FILE_SIZE","data","fetch","text","handleReceivedCode","e","handleReceivedError","_this$props$getConten","_this$props","code","Data","nodeName","XMLSerializer","serializeToString","getContent","call","highlighted","SyntaxHighlighting","loading","success","getCode","getDerivedStateFromProps","prevFileUrl","usedLanguage","supports","Boolean","LoadingSpinner","language","concat","dangerouslySetInnerHTML","__html","displayNameGetter","makeGetDisplayName","FilePreviewModalInfo","user","useSelector","_props$post$user_id","_props$post","selectUser","post","user_id","channel","_props$post$channel_i","_props$post2","makeGetChannel","getChannel","channel_id","_props$post$user_id2","_props$post3","info","channelName","FormattedMessage","values","display_name","showFileName","filename","Object","keys","length","Avatar","username","url","imageURLForUser","last_picture_update","memo","isFileInfo","isLinkInfo","link","FilePreviewModalMainActions","selectedFilePublicLink","_selectFilePublicLink","selectFilePublicLink","dispatch","useDispatch","publicLinkCopied","setPublicLinkCopied","useState","useEffect","enablePublicLink","getFilePublicLink","setTimeout","closeMessage","closeButton","WithTooltip","title","onClick","handleModalClose","publicTooltipMessage","publicLink","copyPublicLink","copyToClipboard","downloadMessage","download","ExternalLink","fileURL","location","copy","CopyButton","isForText","getFileType","FileTypes","TEXT","content","showOnlyClose","canCopyContent","showPublicLink","showClose","defaultProps","FilePreviewModalFooter","actionProps","_objectWithoutProperties","_excluded","assign","isExternalFile","FilePreviewModalMainNav","leftArrow","handlePrev","rightArrow","handleNext","count","fileIndex","total","totalFiles","FilePreviewModalHeader","mainActions","actions","ImagePreview","previewUrl","conditionalSVGStyleAttribute","getFileDownloadUrl","has_preview_image","getFilePreviewUrl","SVG","style","PopoverBar","zoomControls","wrappedZoomControls","showZoomControls","zoomResetButton","zoomOutButton","zoomInButton","scale","ZoomSettings","MIN_SCALE","handleZoomOut","debounce","maxWait","DEFAULT_SCALE","handleZoomReset","MAX_SCALE","handleZoomIn","PDFPreview","KeyCodes","FilePreviewModal","imageIndex","fileInfos","showImage","Keyboard","RIGHT","LEFT","imageHeight","window","innerHeight","loaded","loadImage","fileType","IMAGE","maxLenghtExtension","extensionOrLink","OTHER","index","archived","handleImageLoaded","getFileTypeFromFileInfo","getFileUrl","completedPercentage","handleImageProgress","prevState","_objectSpread","progress","showCloseBtn","newScale","Math","min","SCALE_DELTA","setScale","max","show","currentTarget","target","startIndex","prevFileInfosCount","handleKeyPress","componentWillUnmount","removeEventListener","updatedState","PDF","_this$props$fileInfos","fileName","fileDownloadUrl","zoomBar","dialogClassName","ArchivedPreview","VIDEO","AUDIO","handleBgClose","fallback","floor","LoadingImagePreview","pluginFilePreviewComponents","override","component","onModalDismissed","Modal","onHide","onExited","animation","backdrop","role","paddingLeft","Body","onMouseEnter","onMouseEnterImage","onMouseLeave","onMouseLeaveImage","stopPropagation","Title","componentClass","classNames","postId"],"sourceRoot":""}